[gd_scene load_steps=2 format=3 uid="uid://c0oq4c0ltmgkd"]

[sub_resource type="GDScript" id="GDScript_qiicn"]
script/source = "extends Node2D

const PersonScene = preload(\"res://scenes/People/person.tscn\")
@onready var timer: Timer = $Timer

var number = randi_range(0, 10)

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	timer.timeout.connect(_on_timer_timeout)


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass

func _on_timer_timeout():
	for i in range(number):
		var direction = randi_range(0,4)
		match direction:
			0: direction = Vector2(0, -1)
			1: direction = Vector2(1, -1)
			2: direction = Vector2(1, 0)
			3: direction = Vector2(1, 1)
			4: direction = Vector2(0, 1)
		
		print(direction)
		
		var person = PersonScene.instantiate()
		#var animation = person.get_node(\"Animation\")
		#var array = animation.sprite_frames.get_animation_names()
		#animation.play(array[2])
		
		person.position = position
		person.linear_velocity = direction * 50
		
		get_tree().current_scene.add_child(person)
		
"

[node name="PeopleGenerator" type="Node2D"]
script = SubResource("GDScript_qiicn")

[node name="Timer" type="Timer" parent="."]
autostart = true
